「プロジェクトの目的」に沿って、「足元のタスクとゴール」を完了させてください。
「チームの構成」を踏まえ、最大効率で「足元のタスクとゴール」を完了させてください。

# プロジェクトの目的

`Breakdown` アプリケーションを完成に導くことです。

## ブランチ

`main` での作業は禁止。

**作業前に**: 
プロジェクトの目的に従い、ブランチを作成し、移動します。(すでに移動済みなら、そのまま。)

# チームの構成
あなたは指揮官であり上司である。
各paneに部下がいるので、チームを立ち上げて進める。

`instructions/team.ja.md` に詳細の記載がある。
チーム立ち上げの指示なので、必ず最初に読むこと。

# プロジェクトの実行

## タスクとゴール

信じて良い前提: `deno task ci` が1つのエラーもなく完了している
タスク1: BreakdownLogger で、テストのログ出力を置き換える。その際に `docs/breakdown/breakdownlogger/*` を参考にする。BreakdownLoggerのLOG_KEYを活用する。
タスク2: 本体コードのconsole.logなどのデバッグ出力を削除する
ゴール: 修正後のtestが全て成功し、デバッグ性が高まっている。

**禁止事項**
1. 本体コードへはデバッグを入れない。
  - 代わりに検証したい箇所に対して、テストコードを追加する。
    - テストコードへデバッグ出力を入れ、詳細を把握する。
      - テストのため、本体コードの単一責任や関心の分離が重要。
2. 本体コードの改変は行わない。

### 必読資料

- アーキテクチャ: `docs/breakdown/architecture.ja.md` に照らして判断する。
- 用語集: `docs/breakdown/glossary.ja.md` にある。

### 完了条件

以下の4点です。

- test のデバッグ出力が、BreakdownLoggerへ置き換わっている
- BreakdownLoggerのLOG_KEYを活用している
- 本体コードのconsole.logなどの出力が削除されている
- lib/, tests/ のテストが全て pass する
- `deno task ci` が1つのエラーもなく成功する

## タスクの進め方

- サイクル: 仕様把握 → 調査 → 計画・設計 → 実行 → 記録・検証 → 学習 → 仕様把握へ戻る
- サイクル段階に応じて、メンバーの役割を変更
  - 最適アサイン。常時フル稼働を目指す。

### 並行作業の設計
- 同時並行可能な視点で作業を分割（🙆:操作範囲の分割, ❌:順番待ち）
- ボトルネックを特定し、アサイン先を分散。

### 伝達係: 状況把握と方針伝達
伝達係が行う「サマリー」の伝達とは、次のことです。

- 1状況あたり:
  - 文字数:100文字以内
  - 内容: 次の２点を完結に表現。1.成功してわかったこと, 2.失敗して避けるべきこと
- 保存先: `tmp/summary.md`
  - 最初に指揮官がリセットしておく
- 更新頻度: 
  - 追加: 部下からの報告で分かったことが増える都度
  - 圧縮: 単なる途中経過や矛盾点を消し込む
  - 圧縮頻度: 追加10回に1回程度


### エラー対応

- 総司令官とマネージャーが決める役。メンバーは実行役。
  - エラー前比で、2倍広い範囲で仕様理解する。
  - 仕様理解に必要な作業自体はメンバーへ依頼する。
- マネージャーと総司令官で議論して、対応を決める

テストコードを疑うときは、テストの意図を、設計の意図と合わせて考え、
最適な結論を導き出してテスト修正する。

**禁止事項**
lib/ 配下と tests/ 配下は変更禁止。
必要な変更箇所は「報告」のみ。

### 進捗更新

- 進捗させるべきタスクは `tmp/tasks.md` に書き出し、完了マークをつけたりしながら進めてください。
- テストは、 `deno task ci` を実行して、local で CIが通ることを確認してください。

すべてが完了したら、`tmp/completed.md` に完了したレポートを記録してください。

## 判明している事実
- プロジェクト直下に config 作成は誤り。しかも、設定読み込みにBreakdownConfigを用いたらエラーになるはずなのにpassするのは変だ。

### アンチパターン
- BreakdownConfigを使用せず直接YAML読み込みする
- BreakdownParamsを使用せず直接args読み込みする
- BreakdownPromptを使用せず直接プロンプト読み込みする

# 開始指示

まずチームを立ち上げます。
タスクを分解し、マネージャー経由でメンバーへ作業依頼します。
チーム全体のパフォーマンスが重要です。あなたはメンバーとマネージャーを活躍させてください。あなた自身が作業するのは最小限。

パフォーマンス最大化のためには、並列稼働が重要です。
コンテキストから「今やること」を判断します。部下に適切な役割とタスクを割り当ててください。
プロジェクトの成功を祈ります。開始してください。


