# STDIN flexible test configuration
# ConfigurationTestHelper用のSTDIN処理テスト設定ファイル（柔軟なパターン対応）

# パターンベースの設定
params:
  two:
    directiveType:
      pattern: "^(to|summary|defect|to#1|summary_v2|defect-fix|to_all|web#search|db_query|api-call|data#extract)$"
    layerType:
      pattern: "^(project|issue|task|bugs|project#1|issue_v2|task-new|bugs_critical|module#api|service_db|component-ui|layer#data)$"

# テストデータ
testData:
  validDirectives:
    - "to"
    - "summary"
    - "defect"
    - "to#1"
    - "summary_v2"
    - "defect-fix"
    - "to_all"
    - "web#search"
    - "db_query"
    - "api-call"
    - "data#extract"

  validLayers:
    - "project"
    - "issue"
    - "task"
    - "bugs"
    - "project#1"
    - "issue_v2"
    - "task-new"
    - "bugs_critical"
    - "module#api"
    - "service_db"
    - "component-ui"
    - "layer#data"

  invalidDirectives:
    - "invalid"
    - ""
    - "a" # too short
    - "a123456789012345678901" # too long
    - "test space"
    - "test@email"

  invalidLayers:
    - "INVALID@LAYER"
    - ""
    - "a" # too short
    - "a123456789012345678901" # too long
    - "test space"
    - "test@email"

# Flexible pattern for validation
flexiblePattern: "^[a-zA-Z0-9_#-]{2,20}$"

# その他の設定（デフォルト設定との互換性のため）
directive_patterns: "to|summary|defect|to#1|summary_v2|defect-fix|to_all|web#search|db_query|api-call|data#extract"
layer_patterns: "project|issue|task|bugs|project#1|issue_v2|task-new|bugs_critical|module#api|service_db|component-ui|layer#data"

# プロンプト設定
app_prompt:
  base_dir: "prompts"
  schema_dir: "schemas"

userVariables:
  author: "STDIN Flexible Test Suite"
  version: "2.0.0"

# BreakdownParams設定
breakdown:
  params:
    two:
      directiveType:
        pattern: "^(to|summary|defect|to#1|summary_v2|defect-fix|to_all|web#search|db_query|api-call|data#extract)$"
        errorMessage: "Invalid directiveType"
      layerType:
        pattern: "^(project|issue|task|bugs|project#1|issue_v2|task-new|bugs_critical|module#api|service_db|component-ui|layer#data)$"
        errorMessage: "Invalid layerType"
  options:
    userVariables:
      pattern: "^uv-[a-z][a-z0-9-]*$"
      description: "User variables must start with 'uv-' followed by lowercase alphanumeric and hyphens"
  validation:
    two:
      allowedOptions: ["input", "adaptation", "basedir", "workdir", "output", "quiet"]
      allowedValueOptions: ["input", "adaptation", "basedir", "workdir", "output"]
      allowUserVariables: true
